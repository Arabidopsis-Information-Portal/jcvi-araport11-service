---
name: gff_to_jbrowse
description: Generic web service to parse GFF files and return data in JBrowse compatible JSON format
version: 0.1
icon: araport.png

authors:
    - name: Vivek Krishnakumar
      email: vkrishna@jcvi.org
      sponsor_organization: J. Craig Venter Institute
      sponsor_uri: http://www.jcvi.org

type: generic
main_module: main.py
url: https://www.araport.org
validate_request: true
whitelist:
  - www.araport.org
requirements:
  - gffutils

endpoints:
  /search:
    description: Parse GFF, extract features from desired range and convert to JSON
    summary: Mimics the JBrowse /features REST endpoint
    parameters:
      - name: chr
        description: Chromosome
        type: string
        required: true
        default: 'Chr1'
      - name: start
        description: Start
        type: integer
        format: int64
        required: true
        default: 6464
      - name: end
        description: End
        type: integer
        format: int64
        required: true
        default: 6653
      - name: strand
        description: Strand
        type: string
        enum:
          - '+'
          - '-'
        default: '+'
      - name: scale
        description: Scale
        type: number
        format: double
        default: 0.0
      - name: basesPerSpan
        description: Bases Per Span
        type: number
        format: double
        default: 0.0
  /list:
    description: Parse GFF and extract statistics of features within desired range
    summary: Mimics the JBrowse /stats REST endpoint
    parameters:
      - name: stats
        description: Statistics
        type: string
        required: true
        enum:
          - 'global'
          - 'region'
          - 'regionFeatureDensities'
        default: 'global'
      - name: chr
        description: Chromosome
        type: string
        default: 'Chr1'
      - name: start
        description: Start
        type: integer
        format: int64
        default: 6464
      - name: end
        description: End
        type: integer
        format: int64
        default: 6653
      - name: basesPerBin
        description: Bases Per Bin
        type: number
        format: double
        default: 0.0

sources:
  - title: "Generic web service to transform GFF files into JBrowse compatible JSON format"
    description: "Web service used gffutils to parse GFF files, extract features of interest and convert to JBrowse JSON format"
    language: en-us
    sponsor_organization_name: J. Craig Venter Institute
    sponsor_uri: https://www.jcvi.org
    provider_name: Christopher D. Town
    provider_email: cdtown@jcvi.org
    uri: https://www.araport.org
